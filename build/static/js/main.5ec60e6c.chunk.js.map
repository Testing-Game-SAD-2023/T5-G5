{"version":3,"sources":["pages/Multi.js","pages/Barra.js","pages/Modalita.js","LoginREC/Login.js","pages/Single.js","LoginREC/Registrazione.js","Attesa/Attesa.js","LoginREC/ResetPass.js","LoginREC/PasswordResetLink.js","Editor/Editor.js","Blocco.js","join.js","App.js","reportWebVitals.js","index.js"],"names":["Home","_useState","useState","_useState2","_slicedToArray","selectedClass","setSelectedClass","_useState3","_useState4","selectedRobot","setSelectedRobot","_useState5","_useState6","searchTerm","setSearchTerm","_useState7","_useState8","inviteText","setInviteText","_useState9","_useState10","showInviteModal","setShowInviteModal","_useState11","_useState12","lastInvites","setLastInvites","uniqueFriends","Array","from","Set","robotListRef","useRef","navigate","useNavigate","_useState13","_useState14","isDropdownOpen","setIsDropdownOpen","_useState15","_useState16","email","setEmail","useEffect","storedEmail","localStorage","getItem","storedid","storedname","fetch","concat","then","response","json","data","console","log","setItem","id_player","name","catch","error","_useState17","_useState18","userData","setUserData","storedId","storedName","id","handleInviteModalClose","ok","Error","classList","icon","faCube","filter","classItem","toLowerCase","includes","robotList","faRobot","handleBeforeUnload","e","sessionId","method","headers","Content-Type","Cookie","body","window","addEventListener","removeEventListener","React","createElement","Navbar","bg","variant","expand","Container","Brand","href","Toggle","aria-controls","Collapse","Nav","className","Item","style","display","alignItems","marginRight","Dropdown","background","border","padding","color","FontAwesomeIcon","faUser","Menu","Divider","onClick","statusText","removeItem","message","Row","Col","md","Form","Control","type","placeholder","value","onChange","event","target","ListGroup","height","overflowY","marginTop","map","key","action","active","paddingRight","faCheck","marginLeft","Fragment","marginBottom","suggestedFriends","slice","List","sx","width","maxWidth","bgcolor","position","zIndex","overflow","maxHeight","subheader","ListSubheader","friend","ListItem","button","ListItemText","primary","renderSuggestedFriends","text","_toConsumableArray","alert","ref","robot","robotName","data-robot-name","Button","size","selectedMode","selectedTurn","selectrec","gameData","classe","modalita","turni","JSON","stringify","inviteData","game_id","senderid","recipientid","accepted","Modal","show","onHide","Header","closeButton","Title","Body","Footer","LoadingPage","progress","setProgress","interval","setInterval","clearInterval","ProgressBar","now","label","Modalita","gameMode","setGameMode","numTurns","setNumTurns","showInvites","setShowInvites","gamee","invito","handleGameModeSelect","mode","gameIds","setGameIds","InvitoIds","setInvitoIds","setIsLoading","setError","gamesData","setGamesData","senderIds","setSenderIds","_useState19","_useState20","setSelectedId","_useState21","_useState22","emails","setEmails","_useState23","_useState24","invitoid","invitation","ids","savedGameMode","savedNumTurns","userEmail","handleCloseInvites","Promise","all","gameId","Text","emailsArray","emailObject","isValid","valid","faEnvelope","Group","controlId","as","num","span","offset","index","id_partita","inviteId","handleRejectEmail","Login","password","values","setValues","loggedIn","setLoggedIn","handleInput","prev","_objectSpread","_defineProperty","Navigate","to","onSubmit","preventDefault","axios","post","_response$data","errorMessage","Label","required","Link","Signup","surname","courseofstudy","backgroundColor","borderRadius","playerData","htmlFor","src","alt","CheckAcceptedPage","loading","setLoading","setMessage","dotIndex","setDotIndex","setAccepted","shouldBlockNavigation","isConfirmed","setIsConfirmed","handleUnload","intervalId","dotIntervalId","justifyContent","fontSize","PasswordResetForm","location","useLocation","token","URLSearchParams","search","get","setPassword","setErrorMessage","successMessage","setSuccessMessage","length","requestOptions","status","OtherApp","url","title","allowFullScreen","MyComponent","onpage","setOnpage","invitationId","fontFamily","fontWeight","App","Router","Routes","Route","path","element","Joinare","Testare","Barra","Sign","Single","Prova","Prima","PasswordResetReq","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.5ec60e6c.chunk.js","sourcesContent":["\n\nimport './Modalita.css';\nimport './Ho.css';\nimport './Home.css';\nimport { List, ListItem, ListItemText, ListSubheader } from '@mui/material';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Container, Row, Col, Button, ListGroup, Form, Navbar, Nav, Modal,Dropdown } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faRobot, faCube, faCheck,faUser } from '@fortawesome/free-solid-svg-icons';\nimport { useNavigate } from 'react-router-dom';\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons/faArrowLeft';\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons/faArrowRight';\nimport axios from 'axios';\nimport './App.css';\nimport Alert from 'react-bootstrap/Alert';\n\nfunction Home() {\n  const [selectedClass, setSelectedClass] = useState('');\n  const [selectedRobot, setSelectedRobot] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [inviteText, setInviteText] = useState('');\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [lastInvites, setLastInvites] = useState([]);\n  const uniqueFriends = Array.from(new Set(lastInvites));\n  const robotListRef = useRef(null);\n  const navigate = useNavigate();\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n const [email, setEmail] = useState('');\n \n \n useEffect(() => {\n    const storedEmail = localStorage.getItem('email');\n    if (storedEmail) {\n      setEmail(storedEmail);\n  \n     \n    }\n  }, []);\n  const storedEmail = localStorage.getItem('email');\n  const storedid = localStorage.getItem('id');\n  const storedname = localStorage.getItem('name');\n  fetch(`http://localhost:8080/player/email/${storedEmail}`)\n  .then(response => response.json())\n  .then(data => {\n    console.log(data);\n     localStorage.setItem('id', data.id_player);\n    localStorage.setItem('name', data.name);\n  })\n  .catch(error => {\n    console.error('Error retrieving user data:', error);\n  });\n\n \n\n\n  const [userData, setUserData] = useState({});\n\n  useEffect(() => {\n    const storedEmail = localStorage.getItem('email');\n    const storedId = localStorage.getItem('id');\n    const storedName = localStorage.getItem('name');\n    if (storedEmail && !userData.id) {\n      fetch(`http://localhost:8080/player/email/${storedEmail}`)\n        .then(response => response.json())\n        .then(data => {\n          console.log(data);\n          localStorage.setItem('id', data.id_player);\n          localStorage.setItem('name', data.name);\n          setUserData(data);\n        })\n        .catch(error => {\n          console.error('Error retrieving user data:', error);\n        });\n    } else {\n      setUserData({\n        id_player: storedId,\n        name: storedName,\n      });\n    }\n  }, []);\n\n\n/*\n  const handleLogout = () => {\n    localStorage.removeItem('id');\n    localStorage.removeItem('email');\n    localStorage.removeItem('token');\n    navigate('/');\n  };*/\n\n  const handleLogout = () => {\n    const sessionId = localStorage.getItem('sessionId');\n  \n    fetch(`http://localhost:8080/player/logout?sessionId=${sessionId}`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Cookie': `sessionId=${sessionId}` // aggiungi l'ID della sessione come cookie\n  },\n  body: null // passa null come corpo della richiesta\n})\n.then(response => {\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n  localStorage.removeItem('email');\n  localStorage.removeItem('sessionId');\n  navigate('/');\n})\n.catch(error => {\n  console.error(error);\n  const errorMessage = error.message;\n  if (errorMessage === 'Not logged in') {\n    \n  }\n});\n  };\n\n  const handleToggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n  };\n // localStorage.removeItem('id2');\n/*\n  const handleInviteClick = () => {\n    if (inviteText) {\n      setShowInviteModal(true);\n      setLastInvites([...lastInvites, inviteText]);\n      localStorage.setItem('recipientemail', inviteText);\n      fetch(`http://localhost:8080/player/email/${inviteText}`)\n      .then(response => response.json())\n      .then(data => {\n        localStorage.setItem('recipientid', data.id_player);\n      \n      })\n      .catch(error => {\n        console.error('Error retrieving player data:', error);\n      });\n  }\n  setIsDropdownOpen(false);\n};\n*/\n\nconst handleInviteClick = () => {\n  if (inviteText) {\n    fetch(`http://localhost:8080/player/exists/${inviteText}`)\n      .then(response => response.text())\n      .then(data => {\n        if (data === \"Trovato\") {\n          setShowInviteModal(true);\n          setLastInvites([...lastInvites, inviteText]);\n          localStorage.setItem('recipientemail', inviteText);\n          fetch(`http://localhost:8080/player/email/${inviteText}`)\n            .then(response => response.json())\n            .then(data => {\n              localStorage.setItem('recipientid', data.id_player);\n            })\n            .catch(error => {\n              console.error('Error retrieving player data:', error);\n            });\n        } else {\n          alert(\"L'account non esiste.\");\n          localStorage.removeItem('recipientid');\n        }\n      })\n      .catch(error => {\n        console.error('Error checking email existence:', error);\n      });\n  }\n  setIsDropdownOpen(false);\n};\n\nconst memo=localStorage.getItem('recipientid');\n\n  const handleInviteTextChange = (event) => {\n    setInviteText(event.target.value);\n  };\n\n  const handleInviteModalClose = () => {\n    setShowInviteModal(false);\n  };\n\n  const handleClassSelect = (className) => {\n    setSelectedClass(className);\n  };\n\n  const handleRobotSelect = (robotName) => {\n    setSelectedRobot(robotName);\n  };\n/*\n  \n\n  const handleConfirm = () => {\n    const selectedMode = localStorage.getItem('selectedMode');\n    const selectedTurn = localStorage.getItem('selectedTurn');\n  const selectrec=localStorage.getItem('recipientid');\n  const gameData = {\n      classe: selectedClass, // varchar\n      robot: selectedRobot, // varchar\n      modalita: selectedMode, // varchar\n      turni: selectedTurn, // integer\n       id: storedid , \n      name: storedname\n    };\n\n    \n\n    \n    fetch(\"http://localhost:8080/game/add\", {\n      method: \"POST\",\n      headers: { 'Content-Type': \"application/json\" },\n      body: JSON.stringify(gameData)\n    })\n  \n  \n\n \n    \n    .then(response => response.json())\n    .then(data => {\n      console.log( data);\n      localStorage.setItem('gameidentificativo', data);\n\n     \n      \n    })\n    .catch(error => {\n      console.error('Error sending game data:', error);\n     \n    });\n    const selectgid=localStorage.getItem('gameidentificativo');\n    const inviteData = {\n        game_id: selectgid, // varchar\n        sender_id: storedid, // varchar\n        recipientid: selectrec, // varchar\n      \n        accepted: \"false\"\n      };\n      fetch(\"http://localhost:8080/invitations/add\", {\n        method: \"POST\",\n        headers: { 'Content-Type': \"application/json\" },\n        body: JSON.stringify(inviteData)\n      })\n      //.then(response => response.json())\n      .then(data => {\n        console.log(data);\n        navigate('/about');\n      })\n      .catch(error => {\n        console.error('Error sending invitation data:', error);\n      });\n    \n   \n  };\n\n  */\n  const handleConfirm = () => {\n    const selectedMode = localStorage.getItem('selectedMode');\n    const selectedTurn = localStorage.getItem('selectedTurn');\n    const selectrec = localStorage.getItem('recipientid');\n    const gameData = {\n      classe: selectedClass, // varchar\n      robot: selectedRobot, // varchar\n      modalita: selectedMode, // varchar\n      turni: selectedTurn, // integer\n      id: storedid,\n      name: storedname\n    };\n    if (!selectedClass || !selectedRobot || inviteText === '') {\n      alert('Devi selezionare una classe, un robot e inserire un ID amico nel invito.');\n      return;\n    }\n    if (!selectrec) {\n      alert('Devi inserire un ID valido per l\\'amico invitato.');\n      return;\n    }\n\n\n\n    \n    fetch(\"http://localhost:8080/game/add\", {\n      method: \"POST\",\n      headers: { 'Content-Type': \"application/json\" },\n      body: JSON.stringify(gameData)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n        localStorage.setItem('gameidentificativo', data);\n  \n        const selectgid = localStorage.getItem('gameidentificativo');\n        \n  \n  \n    const inviteData = {\n      game_id: selectgid, // varchar\n      senderid: storedid, // varchar\n      recipientid: selectrec, // varchar\n      accepted: \"false\"\n    };\n    return fetch(\"http://localhost:8080/invitations/newadd\", {\n      method: \"POST\",\n      headers: { 'Content-Type': \"application/json\" },\n      body: JSON.stringify(inviteData)\n    });\n  })\n  .then(response => response.json())\n  .then(data => {\n    console.log(\"id eccolo\",data.id);\n    localStorage.setItem('invtoId', data.id);\n    navigate('/Casa');\n  })\n  .catch(error => {\n    console.error('Error sending invitation data:', error);\n  });\n\n  };\n  \n  const renderSuggestedFriends = () => {\n    const suggestedFriends = uniqueFriends.slice(0, 4);\n    return (\n      <List\n        sx={{\n          width: '100%',\n          maxWidth: 360,\n          bgcolor: 'background.paper',\n          position: 'absolute',\n          zIndex: 1,\n          overflow: 'auto',\n          maxHeight: 300,\n          marginTop: 2, // Add margin top here\n        }}\n        subheader={<li />}\n      >\n        <li>\n          <ul>\n            <ListSubheader>Amici Suggeriti</ListSubheader>\n            {suggestedFriends.map((friend) => (\n              <ListItem key={friend} button onClick={() => setInviteText(friend)}>\n                <ListItemText primary={friend} />\n              </ListItem>\n            ))}\n          </ul>\n        </li>\n      </List>\n    );\n  };\n  useEffect(() => {\n    const storedId = localStorage.getItem('id');\n    fetch(`http://localhost:8080/invitations/${storedId}/recent`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      console.log(\"we\",data);\n      setLastInvites(data);\n\n    })\n    .catch(error=> {\n      console.error('Error retrieving invitation data:', error);\n    });\n    \n  }, []);\n\n  const classList = [\n    { name: 'Classe 1', icon: faCube },\n    { name: 'Classe 2', icon: faCube },\n    { name: 'Classe 3', icon: faCube }\n  ].filter((classItem) => {\n    return classItem.name.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n/*\n  const [classList, setClassList] = useState([]);\n  integrazione con T1-g20\n    \n  \n  useEffect(() => {\n    fetch('http://localhost:8090/classut_repo/viewAll')\n      .then(response => response.text())\n      .then(str => new window.DOMParser().parseFromString(str, \"text/xml\"))\n      .then(data => {\n        console.log(\"wewe\",data);\n        const items = data.getElementsByTagName(\"item\");\n        const newClassList = Array.from(items).map(item => {\n          const name = item.getAttribute(\"name\");\n          return { name: name, icon: faCube };\n        }).filter(classItem => {\n          return classItem.name.toLowerCase().includes(searchTerm.toLowerCase());\n        });\n\n        setClassList(newClassList);\n      });\n  }, [searchTerm]);\n  */\n\n  const robotList = [\n    { name: 'Randoop', icon: faRobot },\n    { name: 'Evosuite', icon: faRobot }\n  ];\n\n  useEffect(() => {\n    \n    const handleBeforeUnload = (e) => {\n      const sessionId = localStorage.getItem('sessionId');\n      fetch(`http://localhost:8080/player/logout?sessionId=${sessionId}`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Cookie': `sessionId=${sessionId}` // aggiungi l'ID della sessione come cookie\n  },\n  body: null // passa null come corpo della richiesta\n})\n        .then(response => {\n          console.log('API call successful');\n        })\n        .catch(error => {\n          console.log('API call failed', error);\n        });\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n\n    return () => {\n      \n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, []);\n  if (!email) {\n    return (\n      <div>Accesso proibito. Esegui il login per accedere a questa pagina.</div>\n    );\n  }\n\n  return (\n    <div>\n      <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\">\n        <Container>\n          <Navbar.Brand href=\"#\">Scelta configurazione</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"ms-auto\">\n <Nav.Item style={{ display: 'flex', alignItems: 'center',marginRight: '-4.5rem' }}>\n <Dropdown>\n              <Dropdown.Toggle variant=\"light\" id=\"dropdown-basic\" style={{ background: 'none', border: 'none', padding: '0', color: 'black' }}>\n                <FontAwesomeIcon icon={faUser} style={{ marginRight: '0.3rem', color:'black' }} />\n                {email}\n              </Dropdown.Toggle>\n              <Dropdown.Menu>\n                <Dropdown.Item style={{ color: 'black' }} href=\"#/action-1\">Profilo</Dropdown.Item>\n                <Dropdown.Item style={{ color: 'black' }} href=\"#/action-2\">Impostazioni</Dropdown.Item>\n                <Dropdown.Divider />\n                \n                <Dropdown.Item style={{ color: 'black' }} onClick={handleLogout}>Esci</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n              </Nav.Item>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n      <Container className=\"mt-4\">\n        <Row>\n          <Col md={3}>\n            <h4>Classi disponibili</h4>\n            <Form className=\"d-flex\">\n              <Form.Control type=\"text\" placeholder=\"Cerca classe\" value={searchTerm} onChange={(event) => setSearchTerm(event.target.value)} />\n            </Form>\n            <ListGroup style={{ height: '400px', overflowY: 'auto', marginTop: '1rem' }}>\n              {classList.map((classItem) => (\n                <ListGroup.Item\n                  key={classItem.name}\n                  action\n                  active={selectedClass === classItem.name}\n                  onClick={() => handleClassSelect(classItem.name)}\n                  className=\"d-flex align-items-center\"\n                  style={{ paddingRight: '0.5rem' }}\n                >\n                  {selectedClass === classItem.name ? (\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                      <FontAwesomeIcon icon={faCheck} style={{ color: 'blue', marginRight: '0.5rem' }} />\n                      <span style={{ marginLeft: '0.5rem' }}>{classItem.name}</span>\n                    </div>\n                  ) : (\n                    <>\n                      <FontAwesomeIcon icon={classItem.icon} style={{ marginRight: '0.5rem' }} />\n                      <span style={{ marginLeft: '0.5rem' }}>{classItem.name}</span>\n                    </>\n                  )}\n                </ListGroup.Item>\n              ))}\n            </ListGroup>\n          </Col>\n          <Col md={6} className=\"d-flex justify-content-center\">\n            <div className=\"circle-container\" style={{ marginBottom: '105rem' }}>\n              {isDropdownOpen && (\n                <div className=\"search-container position-relative \">\n                  <div className=\"input-container\">\n                  <input type=\"text\" placeholder=\"Inserisci Id amico\" value={inviteText} onChange={handleInviteTextChange} />\n                  {renderSuggestedFriends()}\n                  </div>\n                  <button className=\"invite-button\" onClick={() => handleInviteClick(inviteText)}>\n                    Invita\n                  </button>\n                </div>\n              )}\n              \n              <div className={`circle ${isDropdownOpen ? 'open' : ''} ${isDropdownOpen ? 'hide' : ''}`} onClick={handleToggleDropdown}>\n                <span className=\"invite-friends\">Invita Amici</span>\n              </div>\n              \n            </div>\n          </Col>\n          <Col md={3}>\n            <h4>Robot disponibili</h4>\n            <ListGroup style={{ height: '400px', overflowY: 'auto', maxWidth: '400px' }} ref={robotListRef}>\n              {robotList.map((robot) => (\n                <ListGroup.Item\n                  key={robot.name}\n                  action\n                  active={selectedRobot === robot.name}\n                  onClick={() => handleRobotSelect(robot.name)}\n                  className={`d-flex align-items-center ${selectedRobot === robot.name ? 'robot-selected' : ''}`}\n                  data-robot-name={robot.name}\n                  style={{ paddingRight: '0.5rem' }}\n                >\n                  {selectedRobot === robot.name ? (\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                      <FontAwesomeIcon icon={faCheck} style={{ color: 'blue', marginRight: '0.5rem' }} />\n                      <span style={{ marginLeft: '0.5rem' }}>{robot.name}</span>\n                    </div>\n                  ) : (\n                    <>\n                      <FontAwesomeIcon icon={robot.icon} style={{ marginRight: '0.5rem' }} />\n                      <span style={{ marginLeft: '0.5rem' }}>{robot.name}</span>\n                    </>\n                  )}\n                </ListGroup.Item>\n              ))}\n            </ListGroup>\n          </Col>\n        </Row>\n      </Container>\n      <footer className=\"mt-4 py-3 bg-light text-center\">\n        <div className=\"navigation\">\n          \n          <Button variant=\"primary\" size=\"md\" className=\"confirm-button\" onClick={handleConfirm}>\n            \n  Conferma selezione\n\n</Button>\n          \n        </div>\n      </footer>\n      <Modal show={showInviteModal} onHide={handleInviteModalClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Invita amico</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          Hai inviato un invito all'amico con ID: <strong>{inviteText}</strong>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleInviteModalClose}>\n            Chiudi\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      \n    </div>\n  );\n}\n\nexport default Home;\n\n\n","\nimport React, { useState, useEffect } from 'react';\nimport { Container, ProgressBar } from 'react-bootstrap';\n\nconst LoadingPage = () => {\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (progress < 100) {\n        setProgress(progress + 10);\n      }\n    }, 500);\n\n    return () => clearInterval(interval);\n  }, [progress]);\n\n  return (\n    <Container className=\"d-flex justify-content-center align-items-center\" style={{ height: '100vh' }}>\n      <ProgressBar now={progress} label={`${progress}%`} style={{ width: '50%' }} />\n    </Container>\n  );\n};\n\nexport default LoadingPage;\n\n\n\n","import { faUser, faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button, Form, Navbar, Dropdown, Modal, ListGroup } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './Modalita.css';\nimport './aggiunta.css'\nfunction Modalita() {\n  const [gameMode, setGameMode] = useState('');\n  const [numTurns, setNumTurns] = useState('');\n  const [showInvites, setShowInvites] = useState(false); // Stato per il modale degli inviti ricevuti\n  const navigate = useNavigate();\n  // Recupera i valori memorizzati nel LocalStorage\nconst gamee = localStorage.getItem('gameId');\nconst invito = localStorage.getItem('inviteId');\n\n// Stampa i valori nel LocalStorage\nconsole.log('Valore di gameId nel LocalStorage:', gamee);\nconsole.log('Valore di inviteId nel LocalStorage:', invito);\n\n  const handleGameModeSelect = (mode) => {\n    setGameMode(mode);\n    localStorage.setItem('gameMode', mode);\n  };\n\n  const [gameIds, setGameIds] = useState([]);\n  const [InvitoIds, setInvitoIds] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [gamesData, setGamesData] = useState([]);\n  const [senderIds, setSenderIds] = useState([]);\n  \n  const [selectedId, setSelectedId] = useState(null);\n  const [emails, setEmails] = useState([]);\n\n  const [userData, setUserData] = useState({});\n  /*\n  useEffect(() => {\n    const storedEmail = localStorage.getItem('email');\n    const storedId = localStorage.getItem('id');\n    const storedName = localStorage.getItem('name');\n    if (storedEmail && !userData.id) {\n      fetch(`http://localhost:8080/player/email/${storedEmail}`)\n        .then(response => response.json())\n        .then(data => {\n          console.log(data);\n          localStorage.setItem('id', data.id_player);\n          localStorage.setItem('name', data.name);\n          setUserData(data);\n        })\n        .catch(error => {\n          console.error('Error retrieving user data:', error);\n        });\n    } else {\n      setUserData({\n        id_player: storedId,\n        name: storedName,\n      });\n    }\n  }, []);\n  */\n  useEffect(() => {\n    const storedEmail = localStorage.getItem('email');\n    const storedId = localStorage.getItem('id');\n    const storedName = localStorage.getItem('name');\n    if (storedEmail && !userData.id) {\n      fetch(`http://localhost:8080/player/email/${storedEmail}`)\n        .then(response => response.json())\n        .then(data => {\n          console.log(data);\n          localStorage.setItem('id', data.id_player);\n          localStorage.setItem('name', data.name);\n          setUserData(data);\n  \n          // esegui la chiamata API per recuperare gli inviti\n          fetch(`http://localhost:8080/invitations/recuperoinviti/${data.id_player}`)\n            .then(response => {\n              if (!response.ok) {\n                throw new Error('Network response was not ok');\n              }\n              return response.json();\n            })\n            .then(data => {\n              console.log(data);\n              const invitoid = data.map(invitation => invitation.id);\n              const ids = data.map(invitation => invitation.senderid);\n              setSenderIds(ids);\n              setInvitoIds(invitoid);\n              setGameIds(data.map(invitation => invitation.game_id));\n              setIsLoading(false);\n            })\n            .catch(error => {\n              console.error('Error retrieving invitation data:', error);\n              setError(error);\n              setIsLoading(false);\n            });\n        })\n        .catch(error => {\n          console.error('Error retrieving user data:', error);\n        });\n    } else {\n      setUserData({\n        id_player: storedId,\n        name: storedName,\n      });\n  \n      // esegui la chiamata API per recuperare gli inviti\n      fetch(`http://localhost:8080/invitations/recuperoinviti/${storedId}`)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok');\n          }\n          return response.json();\n        })\n        .then(data => {\n          console.log(data);\n          const invitoid = data.map(invitation => invitation.id);\n          const ids = data.map(invitation => invitation.senderid);\n          setSenderIds(ids);\n          setInvitoIds(invitoid);\n          setGameIds(data.map(invitation => invitation.game_id));\n          setIsLoading(false);\n        })\n        .catch(error => {\n          console.error('Error retrieving invitation data:', error);\n          setError(error);\n          setIsLoading(false);\n        });\n    }\n  }, []);\n /*\nuseEffect(() => {\n  const storedId = localStorage.getItem('id');\n  fetch(`http://localhost:8080/invitations/recuperoinviti/${storedId}`)\n\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      console.log(data);\n      const invitoid=data.map(invitation => invitation.id);\n      const ids = data.map(invitation => invitation.senderid);\n      setSenderIds(ids);\n      setInvitoIds(invitoid);\n     \n      setGameIds(data.map(invitation =>invitation.game_id));\n      \n      setIsLoading(false);\n    })\n    .catch(error=> {\n      console.error('Error retrieving invitation data:', error);\n      setError(error);\n      setIsLoading(false);\n    });\n}, []);\n*/\n  const handleNumTurnsSelect = (num) => {\n    setNumTurns(num);\n    localStorage.setItem('numTurns', num);\n  };\n/*\n  const handleLogout = () => {\n    localStorage.removeItem('id');\n    localStorage.removeItem('email');\n    localStorage.removeItem('token');\n    navigate('/');\n  };\n  */\n  const handleLogout = () => {\n    const sessionId = localStorage.getItem('sessionId');\n  \n    fetch(`http://localhost:8080/player/logout?sessionId=${sessionId}`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Cookie': `sessionId=${sessionId}` // aggiungi l'ID della sessione come cookie\n  },\n  body: null // passa null come corpo della richiesta\n})\n.then(response => {\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n  localStorage.removeItem('email');\n  localStorage.removeItem('sessionId');\n  navigate('/');\n})\n.catch(error => {\n  console.error(error);\n  const errorMessage = error.message;\n  if (errorMessage === 'Not logged in') {\n    setError('You are not logged in');\n  }\n});\n  };\n\n  useEffect(() => {\n    \n    const handleBeforeUnload = (e) => {\n      const sessionId = localStorage.getItem('sessionId');\n      fetch(`http://localhost:8080/player/logout?sessionId=${sessionId}`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Cookie': `sessionId=${sessionId}` // aggiungi l'ID della sessione come cookie\n  },\n  body: null // passa null come corpo della richiesta\n})\n        .then(response => {\n          console.log('API call successful');\n        })\n        .catch(error => {\n          console.log('API call failed', error);\n        });\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n\n    return () => {\n      \n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, []);\n\n  const handleStartGame = () => {\n    localStorage.setItem('selectedTurn', numTurns);\n    localStorage.setItem('selectedMode', gameMode);\n    if (gameMode === 'singolo') {\n      navigate('/Single');\n    } else if (gameMode === 'multigiocatore') {\n      navigate('/Multi');\n    }\n  };\n\n  const savedGameMode = localStorage.getItem('gameMode');\n  const savedNumTurns = localStorage.getItem('numTurns');\n  const userEmail = localStorage.getItem('email');\n  \n  useEffect(() => {\n    if (savedGameMode) {\n      setGameMode(savedGameMode);\n    }\n    if (savedNumTurns) {\n      setNumTurns(savedNumTurns);\n    }\n  }, []);\n\n  const handleShowInvites = (ids) => {\n    setShowInvites(true);\n    setSelectedId(ids);\n   \n\n    Promise.all(ids.map(id =>\n      fetch(`http://localhost:8080/player/${id}/email`)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok');\n          }\n          return response.json();\n        })\n    ))\n    .then(emailsArray => {\n      const emails = emailsArray.map(emailObject => ({\n        email: emailObject.email,\n        isValid: emailObject.valid || null\n      }));\n      setEmails(emails);\n    })\n    .catch(error => {\n      console.error('Error retrieving email data:', error);\n      setEmails([]);\n    });\n    \n  };\n\n  const handleCloseInvites = () => {\n    setShowInvites(false);\n  };\n\n  \n  useEffect(() => {\n    Promise.all(gameIds.map(gameId =>\n      fetch(`http://localhost:8080/game/${gameId}`)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok');\n          }\n          return response.json();\n        })\n    ))\n    .then(gamesData => {\n      setGamesData(gamesData);\n      console.log(\"waglio\",gamesData);\n    })\n    .catch(error => {\n      console.error('Error retrieving game data:', error);\n      setGamesData([]);\n    });\n  }, [gameIds]);\n\n\n  \n  //console.log(\"cisei\",scu);\n\n  function handleConfirmEmail(gameId,inviteId) {\n    localStorage.setItem('gameId', gameId);\n    localStorage.setItem('inviteId', inviteId);\n    console.log('Valore di gameId nel LocalStorage:', localStorage.getItem('gameId'));\n  console.log('Valore di inviteId nel LocalStorage:', localStorage.getItem('inviteId'));\n        \n    fetch(`http://localhost:8080/game/${gameId}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      const { robot, classe, turni, modalita } = data;\n      const nomino= localStorage.getItem('name');\n      const nid= localStorage.getItem('id');\n\n      const gameData = {\n        robot: robot,\n        classe: classe,\n        turni: turni,\n        modalita: modalita,\n        name:nomino,\n        id:nid\n      }\n      fetch(`http://localhost:8080/invitations/accept/${inviteId}`, {\n        method: 'PUT'\n      })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        console.log('Invito accettato con successo.');\n        \n      })\n      .catch(error => {\n        console.error('Errore durante l\\'accettazione dell\\'invito:', error);\n      });\n      fetch('http://localhost:8080/game/add', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(gameData)\n      })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then(data => {\n        console.log('Dati del gioco inviati al server:', data);\n       navigate('/join');\n      })\n      .catch(error => {\n        console.error('Errore durante la chiamata API per aggiungere il gioco:', error);\n      });\n    })\n    .catch(error => {\n      console.error('Errore durante la conferma dell\\'email:', error);\n    });\n/*\n    fetch(`http://localhost:8080/invitations/delete/${inviteId}`, {\n        method: 'DELETE'\n      })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        console.log('Invito eliminato con successo.');\n      })\n      .catch(error => {\n        console.error('Errore durante la cancellazione dell\\'invito:', error);\n      });\n    \n   */\n\n\n  }\n  function handleRejectEmail(inviteId) {\n    const storedId = localStorage.getItem('id');\n    fetch(`http://localhost:8080/invitations/delete/${inviteId}`, {\n      method: 'DELETE'\n    })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      console.log('Invito eliminato con successo.');\n      setIsLoading(true); \n      return fetch(`http://localhost:8080/invitations/recuperoinviti/${storedId}`); \n    })\n    .then(response =>{\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      const invitoid = data.map(invitation => invitation.id);\n      const ids = data.map(invitation => invitation.senderid);\n      setSenderIds(ids);\n      setInvitoIds(invitoid);\n      setGameIds(data.map(invitation =>invitation.game_id));\n      setIsLoading(false); // Imposta isLoading su false per nascondere l'indicatore di caricamento\n    })\n    .catch(error => {\n      console.error('Errore durante la cancellazione dell\\'invito:', error);\n    });\n  }\n  if (!userEmail) {\n    return (\n      <div>Accesso proibito. Esegui il login per accedere a questa pagina.</div>\n    );\n  }\n\n  return (\n   \n    <>\n      <Navbar bg=\"primary\" variant=\"dark\">\n        <Navbar.Brand href=\"#\">Configura nuova partita</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Navbar.Text style={{ marginRight: '2rem' }}>\n            <Dropdown>\n              <Dropdown.Toggle variant=\"light\" id=\"dropdown-basic\" style={{ background: 'none', border: 'none', padding: '0', color: 'black' }}>\n                <FontAwesomeIcon icon={faUser} style={{ marginRight: '0.3rem', color:'black' }} />\n                {userEmail}\n              </Dropdown.Toggle>\n              <Dropdown.Menu>\n                <Dropdown.Item style={{ color: 'black' }} href=\"#/action-1\">Profilo</Dropdown.Item>\n                <Dropdown.Item style={{ color: 'black' }} onClick={() => handleShowInvites(senderIds)}>\n \n                  Inviti ricevuti <FontAwesomeIcon icon={faEnvelope} style={{ marginLeft: '0.3rem' }} />\n                </Dropdown.Item>\n                <Dropdown.Divider />\n                <Dropdown.Item style={{ color: 'black' }} onClick={handleLogout}>Esci</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </Navbar.Text>\n        </Navbar.Collapse>\n      </Navbar>\n      <Container className=\"mt-4\">\n        <Row>\n          <Col md={4}>\n            <h4>Modalità di gioco</h4>\n            <ul className=\"list-group\">\n              <li\n                className={`list-group-item ${\n                  gameMode === 'singolo' ? 'active' : ''\n                }`}\n                onClick={() => handleGameModeSelect('singolo')}\n              >\n                Singolo giocatore\n              </li>\n              <li\n                className={`list-group-item ${\n                  gameMode === 'multigiocatore' ? 'active' : ''\n                }`}\n                onClick={() => handleGameModeSelect('multigiocatore')}\n              >\n                Multigiocatore\n              </li>\n            </ul>        \n              </Col>\n          <Col md={4}>\n            <h4>Seleziona numero di turni</h4>\n            <Form>\n              <Form.Group controlId=\"selectTurn\">\n                <Form.Control as=\"select\" value={numTurns} onChange={(e) => handleNumTurnsSelect(e.target.value)}>\n                  <option value=\"1\">1 Turno</option>\n                  <option value=\"2\">2 Turni</option>\n                  <option value=\"3\">3 Turni</option>\n                  <option value=\"4\">4 Turni</option>\n                </Form.Control>\n              </Form.Group>\n            </Form>\n          </Col>\n          <Col md={4} className=\"d-flex align-items-end justify-content-center\">\n          </Col>\n        </Row>\n        <Row className=\"mt-4\">\n          <Col md={{ span: 4, offset: 4 }} className=\"text-center\">\n            <Button variant=\"primary\" className=\"mt-4\" onClick={handleStartGame}>\n              Avvia gioco\n            </Button>\n          </Col>\n        </Row>\n      </Container>\n      {/* Componente modale per gli inviti ricevuti */}\n      <Modal show={showInvites} onHide={handleCloseInvites} className=\"custom-modal\">\n        <Modal.Header closeButton>\n          <Modal.Title>Inviti ricevuti</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n        <ListGroup>\n          {}\n        </ListGroup>\n        </Modal.Body>\n \n        <h2>Emails</h2>\n        <ul>\n            {emails.map((email, index) => (\n  <li key={email.email }>\n    \n    \n    <span>Email: {email.email}</span>\n    \n    <span> - IDinvito: {InvitoIds[index]}</span>\n    { (\n      <>\n        <button className=\"btn btn-danger \" style={{ marginTop: '0rem', padding: '-3rem 0rem' }}  onClick={() => handleConfirmEmail(gamesData[index].id_partita,InvitoIds[index])}>Accetta</button>\n        <button className=\"btn btn-danger\" onClick={() => handleRejectEmail(InvitoIds[index])}>Rifiuta</button>\n      </>\n    )}\n    </li>\n))}\n      \n      </ul>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleCloseInvites}>\n            Chiudi\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default Modalita;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Container, Form, Button } from 'react-bootstrap';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport './Login.css';\r\nimport Cookies from 'js-cookie';\r\n\r\n\r\n// Crea un'istanza di CookieJar\r\n\r\n// Abilita la gestione dei cookie in axios\r\n\r\n\r\n\r\nfunction Login() {\r\n  const [values, setValues] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n  const handleInput = (event) => {        \r\n    setValues(prev => ({...prev, [event.target.name]: event.target.value}))\r\n  }\r\n\r\n  \r\n    \r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n  \r\n    axios.post('http://localhost:8080/player/login22', values)\r\n    .then(response => {\r\n      //const sessionId = response.headers['set-cookie'][0].match(/sessionId=([^;]+)/)[1];\r\n     \r\n      const { sessionId, email } = response.data;\r\n      \r\n     \r\n    //console.log(\"prova\",sessionId);\r\n      console.log(response.data);\r\n      setError('');\r\n      setValues({ email: '', password: '' });\r\n      setLoggedIn(true);\r\n      //Cookies.set('sessionId', response.data.sessionId, { expires: new Date(response.data.sessionExpiry) });\r\n     \r\n      \r\n      //localStorage.setItem('userId', response.data.userId); \r\n      localStorage.setItem('email', email); // Salva l'email dell'utente in localStorage\r\n      localStorage.setItem('sessionId', sessionId); // Salva l'ID della sessione in localStorage\r\n      console.log(\"cookie\",response.sessionId);\r\n      // Salva l'email dell'utente in localStorage\r\n    })\r\n    .catch(error => {\r\n      console.error(error);\r\n      const errorMessage = error.message;\r\n    if (errorMessage === 'Email not verified.') {\r\n      setError('Email not verified');\r\n    } \r\n    else if (errorMessage === 'Invalid username or password.') {\r\n      setError('Invalid username or password');\r\n    }\r\n    else if (errorMessage === 'User is already logged in.'){\r\n      setError('You are already logged in');\r\n    }\r\n    else if (error.response && error.response.data && error.response.data.error) {\r\n      setError(error.response.data.error);\r\n    }\r\n    \r\n    });\r\n  }\r\n\r\n  \r\n  \r\n  \r\n    \r\n  \r\n  \r\n\r\n  if (loggedIn) {\r\n    return <Navigate to=\"/mod\" />;\r\n  }\r\n\r\n  return (\r\n    <Container className=\"login-container\">\r\n      <div className=\"login-box\">\r\n        <h1 className=\"text-center\">Login</h1>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Indirizzo email</Form.Label>\r\n            <Form.Control type=\"email\" name=\"email\" value={values.email} required onChange={handleInput} />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type=\"password\" name=\"password\" value={values.password} required onChange={handleInput} />\r\n          </Form.Group>\r\n\r\n          {error && <p className=\"text-danger\">{error}</p>}\r\n\r\n          <Button variant=\"primary\" type=\"submit\" className=\"login-button\">\r\n            Login\r\n          </Button>\r\n          <Link to=\"/via\" className=\"forgot-password-link\">\r\n            Password dimenticata?\r\n          </Link>\r\n          <Link to=\"/Signup\" className=\"btn btn-secondary register-button\">\r\n            Registrati\r\n          </Link>\r\n        </Form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;","import { faRobot, faCube, faCheck,faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Container, Row, Col, Button, ListGroup, Form, Navbar, Nav,Dropdown } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons/faArrowLeft';\r\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons/faArrowRight';\r\n\r\n\r\nimport './Home.css';\r\n\r\nfunction Home() {\r\n  const [selectedClass, setSelectedClass] = useState('');\r\n  const [selectedRobot, setSelectedRobot] = useState('');\r\n\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const navigate = useNavigate();\r\n  const robotListRef = useRef(null);\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n\r\n  useEffect(() => {\r\n    const storedEmail = localStorage.getItem('email');\r\n    if (storedEmail) {\r\n      setEmail(storedEmail);\r\n  \r\n     \r\n    }\r\n  }, []);\r\n  const storedEmail = localStorage.getItem('email');\r\n  const storedid = localStorage.getItem('id');\r\n  const storedname = localStorage.getItem('name');\r\n  fetch(`http://localhost:8080/player/email/${storedEmail}`)\r\n  .then(response => response.json())\r\n  .then(data => {\r\n    console.log(data);\r\n     localStorage.setItem('id', data.id_player);\r\n    localStorage.setItem('name', data.name);\r\n  })\r\n  .catch(error => {\r\n    console.error('Error retrieving user data:', error);\r\n  });\r\n  const handleToggleDropdown = () => {\r\n    setIsDropdownOpen(!isDropdownOpen);\r\n  };\r\n\r\n  const handleClassSelect = (className) => {\r\n    setSelectedClass(className);\r\n    localStorage.setItem('selectedClass', className);\r\n    //window.location.href = \"http://localhost:8190/myapp?myParam=\" + encodeURIComponent(className);\r\n  };\r\n/*\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('email');\r\n    localStorage.removeItem('token');\r\n    navigate('/');\r\n  };\r\n*/\r\n\r\nconst handleLogout = () => {\r\n  const sessionId = localStorage.getItem('sessionId');\r\n\r\n  fetch(`http://localhost:8080/player/logout?sessionId=${sessionId}`, {\r\nmethod: 'POST',\r\nheaders: {\r\n  'Content-Type': 'application/json',\r\n  'Cookie': `sessionId=${sessionId}` // aggiungi l'ID della sessione come cookie\r\n},\r\nbody: null // passa null come corpo della richiesta\r\n})\r\n.then(response => {\r\nif (!response.ok) {\r\n  throw new Error(response.statusText);\r\n}\r\nlocalStorage.removeItem('email');\r\nlocalStorage.removeItem('sessionId');\r\nnavigate('/');\r\n})\r\n.catch(error => {\r\nconsole.error(error);\r\nconst errorMessage = error.message;\r\nif (errorMessage === 'Not logged in') {\r\n  \r\n}\r\n});\r\n};\r\n  const handleRobotSelect = (robotName) => {\r\n    setSelectedRobot(robotName);\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    const selectedMode = localStorage.getItem('selectedMode');\r\n    const selectedTurn = localStorage.getItem('selectedTurn');\r\n\r\n    const gameData = {\r\n      classe: selectedClass, // varchar\r\n      robot: selectedRobot, // varchar\r\n      modalita: selectedMode, // varchar\r\n      turni: selectedTurn, // integer\r\n       id: storedid , \r\n      name: storedname\r\n    };\r\n    \r\n    fetch(\"http://localhost:8080/game/add\", {\r\n      method: \"POST\",\r\n      headers: { 'Content-Type': \"application/json\" },\r\n      body: JSON.stringify(gameData)\r\n    })\r\n    \r\n    //.then(response => response.json())\r\n    .then(data => {\r\n      console.log('Game data sent to server:', data);\r\n      navigate('/about');\r\n    })\r\n    .catch(error => {\r\n      console.error('Error sending game data:', error);\r\n      console.log('json', gameData);\r\n    });\r\n  };\r\n  //const [classList, setClassList] = useState([]); decommentare\r\n  \r\n    \r\n  /*\r\n  integrazione t1-g20\r\n  useEffect(() => {\r\n    fetch('http://localhost:8090/classut_repo/viewAll')\r\n      .then(response => response.text())\r\n      .then(str => new window.DOMParser().parseFromString(str, \"text/xml\"))\r\n      .then(data => {\r\n        console.log(\"wewe\",data);\r\n        const items = data.getElementsByTagName(\"item\");\r\n        const newClassList = Array.from(items).map(item => {\r\n          const name = item.getAttribute(\"name\");\r\n          return { name: name, icon: faCube };\r\n        }).filter(classItem => {\r\n          return classItem.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n        });\r\n\r\n        setClassList(newClassList);\r\n      });\r\n  }, [searchTerm]);\r\n*/\r\n/*servequesto\r\nuseEffect(() => {\r\n  fetch('http://localhost:8090/classut_repo')\r\n    .then(response => response.text())\r\n    //.then(str => new window.DOMParser().parseFromString(str, \"text/xml\"))\r\n    .then(data => {\r\n      console.log(\"wewe\",data);\r\n\r\n      data = data.replace(\"[\", \"\").replace(\"]\", \"\").replace(/\"/g, \"\");\r\n      const newClassList = data.split(\",\").map(name =>  {\r\n        \r\n        return { name: name, icon: faCube };\r\n      }).filter(classItem => {\r\n        return classItem.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n      });\r\n\r\n      setClassList(newClassList);\r\n    });\r\n}, [searchTerm]);\r\n*/\r\n  \r\n  //const [searchTerm, setSearchTerm] = useState('');\r\n  const classList = [\r\n    \r\n    { name: 'Classe 1', icon: faCube },\r\n    { name: 'Classe 2', icon: faCube },\r\n    { name: 'Classe 3', icon: faCube }\r\n  ].filter((classItem) => {\r\n    return classItem.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n  });\r\n\r\n  const robotList = [\r\n    { name: 'Randoop', icon: faRobot },\r\n    { name: 'Evosuite', icon: faRobot }\r\n  ];\r\n\r\n  \r\n  useEffect(() => {\r\n    \r\n    const handleBeforeUnload = (e) => {\r\n      const sessionId = localStorage.getItem('sessionId');\r\n      fetch(`http://localhost:8080/player/logout?sessionId=${sessionId}`, {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Cookie': `sessionId=${sessionId}` // aggiungi l'ID della sessione come cookie\r\n  },\r\n  body: null // passa null come corpo della richiesta\r\n})\r\n        .then(response => {\r\n          console.log('API call successful');\r\n        })\r\n        .catch(error => {\r\n          console.log('API call failed', error);\r\n        });\r\n    };\r\n\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n\r\n    return () => {\r\n      \r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  }, []);\r\n\r\n  if (!email) {\r\n    return (\r\n      <div>Accesso proibito. Esegui il login per accedere a questa pagina.</div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand href=\"#\">Scelta configurazione</Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"ms-auto\">\r\n              <Nav.Item style={{ display: 'flex', alignItems: 'center',marginRight: '-4.5rem' }}>\r\n              <Dropdown>\r\n              <Dropdown.Toggle variant=\"light\" id=\"dropdown-basic\" style={{ background: 'none', border: 'none', padding: '0', color: 'black' }}>\r\n                <FontAwesomeIcon icon={faUser} style={{ marginRight: '0.3rem', color:'black' }} />\r\n                {email}\r\n              </Dropdown.Toggle>\r\n              <Dropdown.Menu>\r\n                <Dropdown.Item style={{ color: 'black' }} href=\"#/action-1\">Profilo</Dropdown.Item>\r\n                <Dropdown.Item style={{ color: 'black' }} href=\"#/action-2\">Impostazioni</Dropdown.Item>\r\n                <Dropdown.Divider />\r\n                \r\n                <Dropdown.Item style={{ color: 'black' }} onClick={handleLogout}>Esci</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n                \r\n              </Nav.Item>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      <Container className=\"mt-4\">\r\n        <Row>\r\n          <Col md={3}>\r\n            <h4>Classi disponibili</h4>\r\n            <Form className=\"d-flex\">\r\n              <Form.Control type=\"text\" placeholder=\"Cerca classe\" value={searchTerm} onChange={(event) => setSearchTerm(event.target.value)} />\r\n            </Form>\r\n            <ListGroup style={{ height: '400px', overflowY: 'auto', marginTop: '1rem' }}>\r\n              {classList.map((classItem) => (\r\n                <ListGroup.Item\r\n                  key={classItem.name}\r\n                  action\r\n                  active={selectedClass === classItem.name}\r\n                  onClick={() => handleClassSelect(classItem.name)}\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ paddingRight: '0.5rem' }}\r\n                >\r\n                  {selectedClass === classItem.name ? (\r\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                      <FontAwesomeIcon icon={faCheck} style={{ color: 'blue', marginRight: '0.5rem' }} />\r\n                      <span style={{ marginLeft: '0.5rem' }}>{classItem.name}</span>\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <FontAwesomeIcon icon={classItem.icon} style={{ marginRight: '0.5rem' }} />\r\n                      <span style={{ marginLeft: '0.5rem' }}>{classItem.name}</span>\r\n                    </>\r\n                  )}\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={6}></Col>\r\n          <Col md={3}>\r\n            <h4>Robot disponibili</h4>\r\n            <ListGroup style={{ height: '400px', overflowY: 'auto', maxWidth: '400px' }} ref={robotListRef}>\r\n              {robotList.map((robot) => (\r\n                <ListGroup.Item\r\n                  key={robot.name}\r\n                  action\r\n                  active={selectedRobot === robot.name}\r\n                  onClick={() => handleRobotSelect(robot.name)}\r\n                  className={`d-flex align-items-center ${selectedRobot === robot.name ? 'robot-selected' : ''}`}\r\n                  data-robot-name={robot.name}\r\n                  style={{ paddingRight: '0.5rem' }}\r\n                >\r\n                  {selectedRobot === robot.name ? (\r\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                      <FontAwesomeIcon icon={faCheck} style={{ color: 'blue', marginRight: '0.5rem' }} />\r\n                      <span style={{ marginLeft: '0.5rem' }}>{robot.name}</span>\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <FontAwesomeIcon icon={robot.icon} style={{ marginRight: '0.5rem' }} />\r\n                      <span style={{ marginLeft: '0.5rem' }}>{robot.name}</span>\r\n                    </>\r\n                  )}\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <div className=\"navigation\">\r\n       \r\n        <Button variant=\"primary\" size=\"md\" className=\"confirm-button\" onClick={handleConfirm}>\r\n          Conferma selezione\r\n        </Button>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Container, Form, Button } from 'react-bootstrap';\r\n\r\nimport './signup.css'; \r\n\r\nfunction Signup() {\r\n  const navigate = useNavigate();\r\n\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    surname: '',\r\n    email: '',\r\n    password: '',\r\n    courseofstudy:''\r\n  });\r\n\r\n  const handleInput = (event) => {\r\n    setValues(prev => ({...prev, [event.target.name]: event.target.value}))\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const playerData = {\r\n      name: values.name,\r\n      surname: values.surname,\r\n      email: values.email,\r\n      password: values.password,\r\n      courseofstudy: values.courseofstudy\r\n    };\r\n\r\n    \r\n\r\n    fetch(\"http://localhost:8080/player/add\", {\r\n      method: \"POST\",\r\n      headers: { 'Content-Type': \"application/json\" },\r\n      body: JSON.stringify(playerData)\r\n    })\r\n    //.then(response => response.json())\r\n    \r\n    .then(response => response.text())\r\n    .then(data => {\r\n      if (data === 'Email già presente') {\r\n        // If the email already exists, show an error message to the user\r\n        alert('Email già presente. Si prega di utilizzare altra email.');\r\n      }\r\n        else\r\n{      console.log('Player data sent to server:', data);\r\n      // Reindirizza l'utente alla pagina di login dopo la registrazione\r\n      navigate('/');}\r\n    })\r\n    .catch(error => {\r\n      console.error('Error sending player data:', error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <section className=\"vh-100\" style={{ backgroundColor: '#eee' }}>\r\n      <Container className=\"h-100\">\r\n        <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n          <div className=\"col-lg-12 col-xl-11\">\r\n            <div className=\"card text-black\" style={{ borderRadius: '25px' }}>\r\n              <div className=\"card-body p-md-5\">\r\n                <div className=\"row justify-content-center\">\r\n                  <div className=\"col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1\">\r\n\r\n                    <p className=\"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4\">Sign up</p>\r\n\r\n                    <Form onSubmit={handleSubmit} className=\"mx-1 mx-md-4\">\r\n\r\n                      <div className=\"form-floating mb-4\">\r\n                        <input type=\"text\" id=\"name\" className=\"form-control\" name=\"name\" value={values.name} onChange={handleInput} required />\r\n                        <label className=\"form-label\" htmlFor=\"name\">Name</label>\r\n                      </div>\r\n\r\n                      <div className=\"form-floating mb-4\">\r\n                        <input type=\"text\" id=\"surname\" className=\"form-control\" name=\"surname\" value={values.surname} onChange={handleInput} required />\r\n                        <label className=\"form-label\" htmlFor=\"surname\">Surname</label>\r\n                      </div>\r\n\r\n                      <div className=\"form-floating mb-4\">\r\n                        <input type=\"email\" id=\"email\" className=\"form-control\" name=\"email\" value={values.email} onChange={handleInput} required />\r\n                        <label className=\"form-label\" htmlFor=\"email\">Email</label>\r\n                      </div>\r\n\r\n                      <div className=\"form-floating mb-4\">\r\n                        <input type=\"password\" id=\"password\" className=\"form-control\" name=\"password\" value={values.password} onChange={handleInput} required />\r\n                        <label className=\"form-label\" htmlFor=\"password\">Password</label>\r\n                      </div>\r\n\r\n                      <div className=\"form-floating mb-4\">\r\n                        <select id=\"courseofstudy\" className=\"form-select\" name=\"courseofstudy\" value={values.courseofstudy} onChange={handleInput} required>\r\n                        <option value=\"\">Seleziona un corso di studi</option>\r\n                        <option value=\"triennale\">Triennale</option>\r\n                        <option value=\"magistrale\">Magistrale</option>\r\n                        <option value=\"altro\">Altro</option>\r\n                        </select>\r\n                         <label className=\"form-label\" htmlFor=\"courseofstudy\">Course of study</label>\r\n                      </div>\r\n\r\n                      <div className=\"form-check d-flex justify-content-center mb-5\">\r\n                        <input className=\"form-check-input me-2\" type=\"checkbox\" value=\"\" id=\"form2Example3c\" required />\r\n                        <label className=\"form-check-label\" htmlFor=\"form2Example3\">\r\n                          I agree all statements in <a href=\"#!\">Terms of service</a>\r\n                        </label>\r\n                      </div>\r\n\r\n                      <div className=\"d-flex justify-content-center mx-4 mb-3 mb-lg-4\">\r\n                        <Button type=\"submit\" className=\"btn btn-primary btn-lg\">Register</Button>\r\n                      </div>\r\n\r\n                    </Form>\r\n\r\n                  </div>\r\n                  <div className=\"col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2\">\r\n\r\n                  <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp\"\r\n                      className=\"img-fluid\" alt=\"Sample image\" />\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Signup;","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Button from 'react-bootstrap/Button';\r\nfunction CheckAcceptedPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState('');\r\n  const [dotIndex, setDotIndex] = useState(0);\r\n  const [accepted, setAccepted] = useState(false); // stato di accettazione dell'invito\r\n  const navigate = useNavigate();\r\n  const [shouldBlockNavigation, setShouldBlockNavigation] = useState(true);\r\n  const inviteId = localStorage.getItem('invtoId');\r\n  const [isConfirmed, setIsConfirmed] = useState(false);\r\n  useEffect(() => {\r\n    const handleBeforeUnload = () => {\r\n      fetch(`http://localhost:8080/invitations/${inviteId}/offbyid`, {\r\n        method: 'PUT',\r\n      })\r\n        .then(response => {\r\n          console.log('API call successful');\r\n        })\r\n        .catch(error => {\r\n          console.log('API call failed', error);\r\n        });\r\n    };\r\n  \r\n    const handleUnload = () => {\r\n      fetch(`http://localhost:8080/invitations/${inviteId}/offbyid`, {\r\n        method: 'PUT',\r\n      })\r\n        .then(response => {\r\n          console.log('API call successful');\r\n        })\r\n        .catch(error => {\r\n          console.log('API call failed', error);\r\n        });\r\n    };\r\n  \r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    window.addEventListener('unload', handleUnload);\r\n  \r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n      window.removeEventListener('unload', handleUnload);\r\n    };\r\n  }, [inviteId]);\r\n  \r\n  useEffect(() => {\r\n    return () => {\r\n      fetch(`http://localhost:8080/invitations/${inviteId}/offbyid`, {\r\n        method: 'PUT',\r\n      })\r\n        .then(response => {\r\n          console.log('API call successful');\r\n        })\r\n        .catch(error => {\r\n          console.log('API call failed', error);\r\n        });\r\n    };\r\n  }, []);\r\n/*\r\n  useEffect(() => {\r\n    const handlePopstate = (e) => {\r\n      fetch(`http://localhost:8080/invitations/${inviteId}/offbyid`, {\r\n        method: 'PUT',\r\n      })\r\n        .then(response => {\r\n          console.log('API call successful');\r\n       // Imposta shouldBlockNavigation su false quando l'utente naviga indietro nella storia del browser\r\n        })\r\n        .catch(error => {\r\n          console.log('API call failed', error);\r\n        });\r\n    };\r\n  \r\n    window.addEventListener('popstate', handlePopstate);\r\n  \r\n    return () => {\r\n      window.removeEventListener('popstate', handlePopstate);\r\n    };\r\n  }, [inviteId]);\r\n  */\r\n \r\n  const handleConfirmNavigation = () => {\r\n    //const onpage = 'pagina_successiva'; // valore di esempio\r\n    fetch(`http://localhost:8080/invitations/${inviteId}/onbyid`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n     \r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.message);\r\n        setIsConfirmed(true);\r\n         // naviga alla pagina specificata\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  \r\n  };\r\n  useEffect(() => {\r\n    if(isConfirmed){\r\n    const intervalId = setInterval(() => {\r\n      const inviteId = localStorage.getItem('invtoId');\r\n      if (!inviteId) {\r\n        setMessage('ID invito non trovato nel localStorage');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n  \r\n      fetch(`http://localhost:8080/invitations/checkAccepted/${inviteId}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setMessage(data.message);\r\n          setLoading(false);\r\n          if (data.message === `Invitation with ID ${inviteId} has been accepted`) {\r\n            setAccepted(true);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Errore durante la chiamata API:', error);\r\n          setMessage('Errore durante la chiamata API');\r\n          setLoading(false);\r\n        });\r\n    }, 2000); // Richiama l'API ogni 3 secondi\r\n  \r\n    return () => clearInterval(intervalId);\r\n  }\r\n  }, [isConfirmed]);\r\n\r\n  useEffect(() => {\r\n    if (accepted && isConfirmed) {\r\n      navigate('/about');\r\n    }\r\n  }, [accepted, navigate]);\r\n\r\n  useEffect(() => {\r\n    const dotIntervalId = setInterval(() => {\r\n      setDotIndex(dotIndex => (dotIndex + 1) % 4);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(dotIntervalId);\r\n  }, []);\r\n\r\n  const dotSize = 40;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n    \r\n          {shouldBlockNavigation && (\r\n        <Button variant=\"primary\" onClick={handleConfirmNavigation}>Crea Lobby</Button>\r\n      )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (message !== 'Invitation not found' && message !== `Invitation with ID ${localStorage.getItem('invtoId')} has been accepted`) {\r\n    return (\r\n      <div className=\"loading-container\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n          {[0, 1, 2, 3].map(index => (\r\n        <span key={index} style={{ marginRight: 5, fontSize: dotSize, color: '#ccc' }}>\r\n        {index === dotIndex ? <span style={{ color: 'black', fontSize: '100px' }}>.</span> : ''}\r\n      </span>\r\n          ))}\r\n        </div>\r\n        <div>\r\n      {/* Component JSX */}\r\n      {shouldBlockNavigation }\r\n    </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default CheckAcceptedPage;","import React, { useState,useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction PasswordResetForm( ) {\r\n  const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const token = new URLSearchParams(location.search).get('token');\r\n    const [password, setPassword] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n  \r\n    // Aggiungi questo controllo per verificare se il token è stato ricevuto correttamente\r\n    useEffect(() => {\r\n      if (!token) {\r\n        setErrorMessage('Invalid token');\r\n      }\r\n    }, [token]);\r\n  \r\n    const handlePasswordChange = (event) => {\r\n      setPassword(event.target.value);\r\n    };\r\n  \r\n    const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n  \r\n      // Aggiungi questo controllo per verificare se la password inserita dall'utente è valida\r\n      if (password.length < 8) {\r\n        setErrorMessage('Password must be at least 8 characters long');\r\n        return;\r\n      }\r\n  \r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ token: token, password: password }),\r\n      };\r\n  \r\n      fetch('http://localhost:8080/preset/reset', requestOptions)\r\n        .then((response) => response.text())\r\n          .then((data) => {\r\n            if (data === 'password-reset-error') {\r\n              \r\n              setErrorMessage('Token non valido');\r\n            }\r\n            else{\r\n          setSuccessMessage('Password reset successful');\r\n          setErrorMessage('');\r\n          navigate('/');\r\n            }\r\n        })\r\n        .catch((error) => {\r\n          setErrorMessage(error.message);\r\n          setSuccessMessage('');\r\n        });\r\n    };\r\n    return (\r\n        <Container className=\"d-flex flex-column justify-content-center align-items-center min-vh-100\">\r\n          <Row className=\"justify-content-center\">\r\n            <Col md={6}>\r\n           \r\n             \r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group controlId=\"formPassword\">\r\n                  <Form.Label>New Password</Form.Label>\r\n                  <Form.Control type=\"password\" value={password} onChange={handlePasswordChange} style={{ width: '215%' }} />\r\n                </Form.Group>\r\n                <Button variant=\"primary\" type=\"submit\" className=\"mt-3\">\r\n                  Reset Password\r\n                </Button>\r\n              </Form>\r\n              {errorMessage && <div className=\"text-danger mt-3\">{errorMessage}</div>}\r\n              {successMessage && <div className=\"text-success mt-3\">{successMessage}</div>}\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      );\r\n    }\r\n    \r\n    export default PasswordResetForm;","import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nfunction PasswordResetForm() {\r\n  const [email, setEmail] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    axios\r\n      .post('http://localhost:8080/preset/request', { email: email })\r\n      .then((response) => {\r\n        if(response.data===\"Not Found\"){\r\n          alert('Non esiste un account con questa email');\r\n        }\r\n     else{\r\n        setSuccessMessage('Password reset link sent to your email');\r\n        setError('');\r\n     }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response && error.response.status === 404 && error.response.data === \"Not Found\") {\r\n          setError('L\\'indirizzo email non esiste.');\r\n     \r\n        } else {\r\n          setError('Si è verificato un errore durante la richiesta di ripristino password.');\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column align-items-center mt-5\">\r\n \r\n      <div className=\"w-30\">\r\n      <h1>Password Reset</h1>\r\n      {successMessage && <p className=\"text-success\">{successMessage}</p>}\r\n      {error && <p className=\"text-danger\">{error}</p>}\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control type=\"email\" placeholder=\"Enter email\" size=\"md\" value={email} onChange={handleEmailChange} />\r\n        </Form.Group>\r\n        <Button variant=\"primary\" type=\"submit\"  className=\"mt-3\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PasswordResetForm;","import React from 'react';\r\n\r\n//const url = `http://localhost:8190/myapp?myParam=${myParamValue}`;\r\nfunction OtherApp() {\r\n  const selectedClass = localStorage.getItem('selectedClass');\r\n  console.log(selectedClass);\r\n  const url = `http://localhost:8190/myapp?myParam=${selectedClass}`;\r\n    return (\r\n      \r\n      <iframe \r\n        src={url}\r\n        title=\"Editor\" \r\n        style={{ \r\n          border: 'none', \r\n          height: '100vh', \r\n          width: '100vw' \r\n        }} \r\n        allowFullScreen \r\n      />\r\n    );\r\n  }\r\nexport default OtherApp;","/*\r\nimport React from 'react';\r\n\r\nclass SetOnPagePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      onpage: true,\r\n      senderId: props.senderId\r\n    };\r\n  }\r\n\r\n  setOnPage = () => {\r\n    fetch(`http://localhost:8080/invitations/${this.state.senderId}/on`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        onpage: this.state.onpage\r\n      }),\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.message);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  handleBeforeUnload = (event) => {\r\n    event.preventDefault();\r\n    fetch(`http://localhost:8080/invitations/${this.state.senderId}/off`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        onpage: false\r\n      }),\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.message);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n    return event.returnValue = 'Sei sicuro di voler lasciare questa pagina?';\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.onbeforeunload = this.handleBeforeUnload;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.onbeforeunload = null;\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <h1>Set On Page</h1>\r\n        <button onClick={this.setOnPage}>Set On Page</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <SetOnPagePage senderId={511} />\r\n  );\r\n}\r\n\r\nexport default App;\r\n*/\r\n\r\nimport React from 'react';\r\nimport { useEffect,useState } from 'react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nfunction MyComponent() {\r\n  //const [inviteId, setinviteId] = useState(null);\r\n  //const shouldBlockNavigation = true;\r\n  const [shouldBlockNavigation, setShouldBlockNavigation] = useState(true); // determina se bloccare la navigazione o meno\r\n  const navigate = useNavigate();\r\n  const inviteId = localStorage.getItem('invtoId');\r\n  useEffect(() => {\r\n    \r\n    const handleBeforeUnload = (e) => {\r\n      fetch(`http://localhost:8080/invitations/${inviteId}/offbyid`, {\r\n        method: 'PUT',\r\n      })\r\n        .then(response => {\r\n          console.log('API call successful');\r\n        })\r\n        .catch(error => {\r\n          console.log('API call failed', error);\r\n        });\r\n    };\r\n\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n\r\n    return () => {\r\n      \r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  }, [inviteId]);\r\n\r\n\r\n \r\n  const handleConfirmNavigation = () => {\r\n    //const onpage = 'pagina_successiva'; // valore di esempio\r\n    fetch(`http://localhost:8080/invitations/${inviteId}/onbyid`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n     \r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.message);\r\n         // naviga alla pagina specificata\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  \r\n  };\r\n/*\r\n  const handleAbandonNavigation = () => {\r\n    // esegui il codice per abbandonare l'azione\r\n    // e chiamare l'API per impostare onpage a false\r\n    fetch(`http://localhost:8080/invitations/${senderId}/off`, {\r\n      method: 'PUT',\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.message);\r\n        // naviga alla home page\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.onbeforeunload = () => {\r\n      handleAbandonNavigation();\r\n    };\r\n  }, []);\r\n\r\n*/\r\n  return (\r\n    <div>\r\n      {}\r\n      {shouldBlockNavigation && (\r\n        <button onClick={handleConfirmNavigation}>Conferma</button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyComponent;\r\n","//import React, { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n/*\r\nfunction JoinGamePage() {\r\n  const { playerName } = useParams();\r\n  const [joiningGame, setJoiningGame] = useState(false);\r\n\r\n  const handleJoinGame = async () => {\r\n    setJoiningGame(true);\r\n    try {\r\n        const playerName1 = 'A';\r\n        await axios.post('http://localhost:8080/join-game?playerName='+playerName1, {\r\n          params: {\r\n            playerName: playerName\r\n          }\r\n        });\r\n        console.log('Joined game successfully');\r\n      } catch (error) {\r\n        console.error('Failed to join game', error);\r\n      }\r\n      \r\n      setJoiningGame(false);}\r\n\r\n  return (\r\n    <div>\r\n      <h1>Join game</h1>\r\n      <p>Player name: {playerName}</p>\r\n      <button onClick={handleJoinGame} disabled={joiningGame}>\r\n        {joiningGame ? 'Joining game...' : 'Join game'}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JoinGamePage;\r\n*/\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction MyComponent() {\r\n  const [onpage, setOnpage] = useState(null);\r\n  const invitationId =  localStorage.getItem('inviteId');\r\n\r\n  console.log('Valore di inviteId nel LocalStorage:', invitationId);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n    fetch(`http://localhost:8080/invitations/invitations/${invitationId}/onpagebyid`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        \r\n          setOnpage(data.onpage);\r\n        \r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }, );\r\n \r\n\r\n    return () => clearInterval(interval);\r\n  }, [onpage]);\r\n  useEffect(() => {\r\n    if (onpage === true) {\r\n      navigate('/about');\r\n    }\r\n  }, [onpage, navigate]);\r\n  return (\r\n    <div style={{\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      height: '100vh'\r\n    }}>\r\n    \r\n      {onpage === true ? (\r\n        <div style={{\r\n          fontSize: '2em',\r\n          fontFamily: 'Arial, sans-serif',\r\n          fontWeight: 'bold',\r\n          color: 'green'\r\n        }}>Ingresso in lobby</div>\r\n      ) : (\r\n        <div style={{\r\n          fontSize: '2em',\r\n          fontFamily: 'Arial, sans-serif',\r\n          fontWeight: 'bold',\r\n          color: 'red'\r\n        }}>Il player non è nella partita</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyComponent;","import \"./pages/App.css\";\r\nimport React from 'react'\r\nimport  { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\r\nimport Home from \"./pages/Multi\";\r\nimport Barra from \"./pages/Barra\";\r\nimport Modalita from \"./pages/Modalita\";\r\nimport Prova from \"./LoginREC/Login\";\r\nimport Single from \"./pages/Single\";\r\nimport Sign  from \"./LoginREC/Registrazione\";\r\nimport Prima from \"./Attesa/Attesa\";\r\nimport PasswordResetForm from \"./LoginREC/ResetPass\";\r\nimport PasswordResetReq from \"./LoginREC/PasswordResetLink\";\r\nimport OtherApp from \"./Editor/Editor\";\r\nimport Testare from \"./Blocco\";\r\nimport Joinare from \"./join\";\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Routes>\r\n        <Route path=\"/join\" element={<Joinare />} />\r\n        <Route path=\"/controllo\" element={<Testare />} />\r\n          <Route path=\"/about\" element={<Barra />} />\r\n          <Route path=\"/mod\" element={<Modalita />} />\r\n          <Route path=\"/Signup\" element={<Sign />} />\r\n          <Route path=\"/Multi\" element={<Home />} />\r\n          <Route path=\"/Single\" element={<Single />} />\r\n          <Route path=\"/\" element={<Prova />} />\r\n          <Route path=\"/casa\" element={<Prima />} />\r\n          <Route path=\"/elem\" element={<PasswordResetForm />} />\r\n          <Route path=\"/via\" element={<PasswordResetReq />} />\r\n          <Route path=\"/password-reset/reset\" element={<PasswordResetForm />} />\r\n          \r\n          <Route path=\"/about2\" element={<OtherApp />} />\r\n        </Routes>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css'\n\nimport { BrowserRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}